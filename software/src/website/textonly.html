<!DOCTYPE html>
<html>
    <head>
	<title>Welcome to the Realtime Embedded Test server</title>
	<style>
	 body {
             width: 35em;
             margin: 0 auto;
             font-family: Tahoma, Verdana, Arial, sans-serif;
	 }
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">

	  // callback when the JSON data has arrived
	  function getterCallback(result) {
	      var temperature = Math.round(result.temperature * 100)/100.0;
              document.getElementById("temperature").innerHTML = temperature;
	  }

	  // timer callback
	  function getTemperature() {
	      // get the JSON data
	      $.getJSON("/data/:80",getterCallback);
	  }

	  // document ready callback
	  function documentReady() {
	      // request new data from the server every second
	      window.intervalId = setInterval(getTemperature , 1000);
	  }

	  // called when the web page has been loaded
	  $(document).ready( documentReady );
	  
	</script>
    </head>
    <body>
      <h2>Temperature display with JSON data transfer</h2>

      <h3><span id="temperature">00</span> degree celsius</h3>

	<p>This is a realtime demo where the java script requests the data
	  and shows it on the screen.</p>
	
	<br />
	<br />
<br />
<br />
<br />
<br />
<p><a href="/">Main page</a></p>
<br />
<br />
<br />
<br />

<h2>References</h2>

      <p><a href="http://dygraphs.com/">dygraphs</p>

      <p><a href="https://github.com/berndporr/rpi_AD7705_daq">github repo</a></p>

    </body>
</html>